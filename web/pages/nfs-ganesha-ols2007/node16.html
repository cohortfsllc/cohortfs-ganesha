<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The NFSv4 Proxy FSAL</TITLE>
<META NAME="description" CONTENT="The NFSv4 Proxy FSAL">
<META NAME="keywords" CONTENT="nfs-ganesha-ols2007">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="index.php?page=nfs-ganesha-ols2007/nfs-ganesha-ols2007.css">

<LINK REL="next" HREF="index.php?page=nfs-ganesha-ols2007/node17">
<LINK REL="previous" HREF="index.php?page=nfs-ganesha-ols2007/node15">
<LINK REL="up" HREF="index.php?page=nfs-ganesha-ols2007/node13">
<LINK REL="next" HREF="index.php?page=nfs-ganesha-ols2007/node17">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html220"
  HREF="index.php?page=nfs-ganesha-ols2007/node17">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="../../images/next.png"></A> 
<A NAME="tex2html218"
  HREF="index.php?page=nfs-ganesha-ols2007/node13">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="../../images/up.png"></A> 
<A NAME="tex2html212"
  HREF="index.php?page=nfs-ganesha-ols2007/node15">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="../../images/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html221"
  HREF="index.php?page=nfs-ganesha-ols2007/node17">The ``Ghost FS'' FSAL</A>
<B> Up:</B> <A NAME="tex2html219"
  HREF="index.php?page=nfs-ganesha-ols2007/node13">File System Abstraction Layer</A>
<B> Previous:</B> <A NAME="tex2html213"
  HREF="index.php?page=nfs-ganesha-ols2007/node15">The POSIX-based FSAL</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00053000000000000000">
The NFSv4 Proxy FSAL</A>
</H2>

<P>
When designing GANESHA, we had one thought: having a NFSv4 proxy would
be great. NFSv4 has lots of features that are designed for
implementing aggressive cache policy (file delegation is a good
example of this feature). GANESHA is designed to manage huge caches.
The ``wedding'' seems very natural here.  The NFsv4 Proxy FSAL wraps
NFSv4 client calls to FSAL calls. It turns the back-end part of
GANESHA into a NFSv4 client, turning the whole daemon into a NFSv4
proxy server.  The mechanism of file delegation is a feature in NFSv4
that is quite interesting here. It allows a file to be ``fully acquired''
by a client for a given period of time. Operations on files, such as
IO operations and modification of its attributes, will be done on the
client directly, without disturbing the server; that guarantees that no
other clients will access it. Depending on the kind of delegation
used, the server may use transient callbacks to update information
about the file. When the delegation ends, the server recovers the file,
getting the new state for the file from the client.  Delegation, used
jointly with GANESHA meta-data and data caches, is very efficient:
accessing a file's content will be done though data cache, once a
delegation on the file has been acquired. The policy for the
NFSv4 Proxy FSAL will be to acquire as many delegations as possible,
populating the GANESHA's caches. With a well populated cache, GANESHA
will become able to answer by proxy many requests. In NFSv4.1, a
new feature is added: the directory delegation. This will allow the
content of directories to be delegated and acquired by clients in the
same way that file contents are. Used with GANESHA's meta-data cache, this
feature will be very interesting.

<P>
This module is still under development.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html220"
  HREF="index.php?page=nfs-ganesha-ols2007/node17">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="../../images/next.png"></A> 
<A NAME="tex2html218"
  HREF="index.php?page=nfs-ganesha-ols2007/node13">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="../../images/up.png"></A> 
<A NAME="tex2html212"
  HREF="index.php?page=nfs-ganesha-ols2007/node15">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="../../images/prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html221"
  HREF="index.php?page=nfs-ganesha-ols2007/node17">The ``Ghost FS'' FSAL</A>
<B> Up:</B> <A NAME="tex2html219"
  HREF="index.php?page=nfs-ganesha-ols2007/node13">File System Abstraction Layer</A>
<B> Previous:</B> <A NAME="tex2html213"
  HREF="index.php?page=nfs-ganesha-ols2007/node15">The POSIX-based FSAL</A>
<!--End of Navigation Panel-->
<ADDRESS>
root
2008-08-01
</ADDRESS>
</BODY>
</HTML>
