<h2 class="Welcome">Using NFS-GANESHA with FSALs compiled as shared objects</h2>Since version 1.0.1, NFS-GANESHA can be compiled in a FSAL-less way. FSAL are compiled separateley and dynamically loaded at runtime.<br>The FSAL-less daemon is called <span style="font-style: italic;">dynfsal.hpss.nfsd</span> and it comes with a <span style="font-style: italic;">dynfsal.ganeshell</span>.<br>It can obtain from a rpm package (the <span style="font-style: italic;">nfs-ganesha-dynfsal*.rpm </span>packages) or compiled from the source.<br>To compile it, proceed as follow:<br><div style="margin-left: 40px;"># ./configure --with-fsal=DYNFSAL<br># make &amp;&amp; make install<br></div><br>To run these FSAL-less binaries, you'll need a FSAL compiled as a shared objects. Such library are found in <span style="font-style: italic;">nfs-ganesha-fsal-*-*.rpm</span> packages.<br>You can compile them from the source too: (in this example FSAL_XFS shared object will be produced)<br><div style="margin-left: 40px;"># ./configure --with-fsal=XFS --enable-buildsharedfsal<br># make &amp;&amp; make install<br></div><br>The FSAL-less needs to know where the FSAL shared library is located. In order to set up this, you need to use flag <span style="font-style: italic;">FSAL_Shared_Library</span> in block <span style="font-style: italic;">NFS_Core_Param </span>from the configuration file.<br>Example:<br><div style="margin-left: 40px;">NFS_Core_Param<br>{<br>&nbsp;&nbsp; (.... )<br><br>&nbsp;&nbsp; # Path to FSAL dynamic lib<br>&nbsp;&nbsp; FSAL_Shared_Library = "/usr/lib/libfsalxfs.so.1.0.1" ;<br>}&nbsp;  <br></div>That's all you have to do. The daemon will load this shared object at startup and use it as a FSAL. Of course, the configuration has to contain configuration information for the related FSAL. Since FSAL have configuration block with one specific name per FSAL, several FSAL configuration could be set in the same configuration file.<br>